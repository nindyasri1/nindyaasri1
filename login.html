<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Login RT</title>
<style>
body { font-family: Arial; background:#f3f4f6; padding:50px }
.card { background:#fff; padding:20px; max-width:400px; margin:auto; border-radius:10px }
input, button { width:100%; padding:10px; margin:8px 0 }
button { background:#2563eb; color:#fff; border:none; border-radius:6px }
</style>
</head>
<body>

<div class="card">
<h3>Login RT</h3>
<input id="username" placeholder="Username">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="msg" style="color:red"></p>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbyHPTQ7o21vvohrxY4M7Emwzg7crHK0JDgZw75JK1vA8_jz4EYVl4Ag_UHxUejBpnHf/exec";

function login() {
  const data = new URLSearchParams();
  data.append("action", "login");
  data.append("username", document.getElementById("username").value);
  data.append("password", document.getElementById("password").value);

  fetch(API_URL, { method: "POST", body: data })
    .then(res => res.json())
    .then(res => {
      if (res.status === "success") {
        localStorage.setItem("loginRT", "true");
        localStorage.setItem("roleRT", res.role);
        window.location.href = "index.html";
      } else {
        document.getElementById("msg").innerText = "Login gagal";
      }
    });
}
</script>

</body>
</html>
